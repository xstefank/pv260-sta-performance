<?xml version="1.0" encoding="utf-8"?>
  <scenario xmlns="urn:perfcake:scenario:7.0">
  <run type="${perfcake.run.type:time}"
       value="${perfcake.run.duration:300000}"/>
  <generator class="DefaultMessageGenerator"
             threads="${perfcake.thread.count:100}"/>
  <sender class="HttpSender">
    <target>http://localhost:8080</target>
    <property name="method" value="POST"/>
  </sender>
  <reporting>
    <reporter class="WarmUpReporter" enabled="${perfcake.warmup:true}">
      <property name="minimalWarmUpDuration" value="30000" />
      <property name="minimalWarmUpCount" value="1" />
    </reporter>
    <reporter class="ThroughputStatsReporter">
      <property name="minimumEnabled" value="false"/>
      <property name="maximumEnabled" value="false"/>
      <destination class="CsvDestination">
        <period type="time" value="1000"/>
        <property name="path" value="test-output/${perfcake.scenario}-${perfcake.message.size:1kB}-throughput-stats-${perfcake.run.timestamp}.csv"/>
      </destination>
      <destination class="ConsoleDestination">
        <period type="time" value="1000"/>
        <property name="foreground" value="11"/>
      </destination>
      <destination class="ChartDestination">
        <period type="time" value="1000"/>
        <property name="attributes" value="Result,Average"/>
        <property name="outputDir" value="test-output/${perfcake.scenario}-throughput-charts"/>
        <property name="yAxis" value="Iterations per second"/>
        <property name="name" value="Throughput ${perfcake.scenario} [${perfcake.message.size:1kB} message])"/>
      </destination>
    </reporter>
    <reporter class="ResponseTimeStatsReporter">
      <property name="minimumEnabled" value="false"/>
      <property name="maximumEnabled" value="false"/>
      <destination class="CsvDestination">
        <period type="time" value="1000"/>
        <property name="path" value="test-output/${perfcake.scenario}-${perfcake.message.size:1kB}-response-time-stats-${perfcake.run.timestamp}.csv"/>
      </destination>
      <destination class="ConsoleDestination">
        <period type="time" value="1000"/>
        <property name="foreground" value="14"/>
      </destination>
      <destination class="ChartDestination">
        <period type="time" value="1000"/>
        <property name="attributes" value="Result,Average"/>
        <property name="outputDir" value="test-output/${perfcake.scenario}-response-time-charts"/>
        <property name="yAxis" value="Response time [ms]"/>
        <property name="name" value="Response time (${perfcake.scenario} [${perfcake.message.size:1kB} message])"/>
      </destination>
    </reporter>
  </reporting>
  <messages>
    <message uri="plain.txt"/>
  </messages>
</scenario>

